<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DataLibrary Home</title>
  <link rel="stylesheet" href="css/style-main.css" />
  <link rel="stylesheet" href="css/timeline-main.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
  <link rel="icon" href="https://cdn.discordapp.com/avatars/1339214670099382382/7e0935121ed73e51d4cf8ab3442feb4c.webp?size=100" type="image/x-icon">
  <style>
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(30, 41, 59, 0.95);
      backdrop-filter: blur(20px);
      color: white;
      font-family: inherit;
      margin-bottom: 0;
      box-shadow: var(--shadow-soft);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .navbar-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .navbar-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo-icon {
      font-size: 1.8rem;
      color: var(--primary-orange);
      animation: pulse 2s infinite;
      transition: transform 0.3s ease;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .logo-text {
      font-weight: 700;
      font-size: 1.5rem;
      user-select: none;
      color: white;
      letter-spacing: -0.025em;
      transition: color 0.3s ease;
    }

    .navbar-logo:hover .logo-icon {
      transform: scale(1.15);
    }

    .navbar-center {
      display: flex;
      gap: 0.5rem;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    .nav-btn {
      background: transparent;
      border: 2px solid transparent;
      color: #cbd5e1;
      padding: 0.75rem 1.5rem;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      font-family: inherit;
      border-radius: 14px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      letter-spacing: 0.025em;
      display: flex;
      align-items: center;
      gap: 8px;
      position: relative;
      overflow: hidden;
    }

    .nav-btn:before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .nav-btn:hover:before {
      left: 100%;
    }

    .nav-btn:hover {
      color: white;
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 140, 66, 0.3);
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba(255, 140, 66, 0.15);
    }

    .nav-btn.active {
      color: white;
      background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
      border-color: var(--primary-orange);
      box-shadow: 0 4px 16px rgba(255, 140, 66, 0.3);
      transform: translateY(-1px);
    }

    .navbar-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    #auth-container {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .auth-btn {
      background: rgba(255, 255, 255, 0.1) !important;
      color: white !important;
      border: 2px solid rgba(255, 255, 255, 0.2) !important;
      padding: 0.9rem 1.5rem !important;
      border-radius: 14px !important;
      font-size: 0.95rem !important;
      font-weight: 600 !important;
      cursor: pointer !important;
      transition: all 0.3s ease !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      gap: 0.5rem !important;
      backdrop-filter: blur(20px) !important;
      font-family: inherit !important;
      letter-spacing: 0.025em !important;
    }

    .auth-btn:hover {
      color: white !important;
      background: rgba(255, 255, 255, 0.2) !important;
      border-color: rgba(255, 140, 66, 0.3) !important;
      transform: translateY(-2px) !important;
      box-shadow: 0 6px 20px rgba(255, 140, 66, 0.2) !important;
    }

    .auth-btn.sign-in {
      background: linear-gradient(135deg, #ff8c42, #ff6b1a) !important;
      border-color: rgba(255, 140, 66, 0.3) !important;
      box-shadow: 0 4px 12px rgba(255, 140, 66, 0.25) !important;
    }

    .auth-btn.sign-in:hover {
      background: linear-gradient(135deg, #ff6b1a, #e55a11) !important;
      transform: translateY(-2px) !important;
      box-shadow: 0 8px 24px rgba(255, 140, 66, 0.35) !important;
    }

    .auth-btn.sign-out {
      background: rgba(239, 68, 68, 0.2) !important;
      border-color: rgba(239, 68, 68, 0.4) !important;
    }

    .auth-btn.sign-out:hover {
      background: rgba(239, 68, 68, 0.3) !important;
      border-color: rgba(239, 68, 68, 0.6) !important;
    }

    .user-profile {
      display: flex !important;
      align-items: center !important;
      gap: 0.75rem !important;
    }

    .user-avatar {
      width: 36px !important;
      height: 36px !important;
      border-radius: 50% !important;
      border: 2px solid rgba(255, 140, 66, 0.3) !important;
      object-fit: cover !important;
    }

    .user-info {
      display: flex !important;
      flex-direction: column !important;
      align-items: flex-start !important;
      gap: 0 !important;
    }

    .user-status {
      color: rgba(255, 255, 255, 0.6) !important;
      font-size: 0.75rem !important;
      line-height: 1 !important;
      margin: 0 !important;
      font-weight: 500 !important;
    }

    .auth-status-indicator {
      width: 8px !important;
      height: 8px !important;
      border-radius: 50% !important;
      background: #10b981 !important;
      box-shadow: 0 0 8px rgba(16, 185, 129, 0.6) !important;
      animation: authPulse 2s infinite !important;
    }

    @keyframes authPulse {
      0%, 100% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.7;
        transform: scale(1.1);
      }
    }

    .hidden {
      display: none !important;
    }

    @media (max-width: 768px) {
      .navbar {
        flex-direction: column;
        padding: 1rem;
        gap: 1rem;
        align-items: inherit;
      }

      .navbar-center {
        position: static;
        transform: none;
        order: 2;
        flex-wrap: wrap;
      }

      .navbar-left {
        order: 1;
      }

      .navbar-right {
        order: 3;
      }

      .user-info {
        display: none !important;
      }
      
      .user-profile {
        padding: 0.5rem !important;
      }
      
      .auth-btn {
        min-width: 44px !important;
        padding: 0.75rem !important;
      }
      
      .auth-btn span {
        display: none !important;
      }

      .nav-btn {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
      }

      .nav-btn span {
        display: none;
      }
    }

    .counter-container {
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #visitor-count {
      color: #4CAF50;
      margin-left: 5px;
      font-weight: 600;
    }

    .countertext {
      font-weight: 600;
    }

    .dark-mode .countertext {
      font-weight: 600;
      margin: 0px !important;
      color: var(--text-dark);
    }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1001;
      opacity: 1;
      transition: all 0.3s ease;
    }

    .modal.hidden {
      display: none;
      opacity: 0;
    }

    .modal-content {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      color: var(--text-primary);
      margin: 15px;
      padding: 2rem;
      border-radius: 20px;
      width: 90%;
      max-width: 420px;
      position: relative;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
      font-family: inherit;
      font-size: 16px;
      line-height: 1.6;
      border: 1px solid var(--glass-border);
    }

    .close-button {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 24px;
      font-weight: 600;
      color: inherit;
      cursor: pointer;
      transition: all 0.3s ease;
      opacity: 0.7;
    }

    .close-button:hover {
      opacity: 1;
      transform: scale(1.1);
    }

    .switch-container {
      margin: 15px 0;
      line-height: 1.5;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 32px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: #cbd5e1;
      transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 32px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 24px;
      width: 24px;
      left: 4px;
      bottom: 4px;
      background: white;
      border-radius: 50%;
      transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    .switch input:checked + .slider {
      background: linear-gradient(135deg, #ff8c42 0%, #ff6b1a 100%);
    }

    .switch input:checked + .slider:before {
      transform: translateX(28px);
    }

    .social-button-container {
      display: flex;
      gap: 1rem;
      justify-content: center;
      align-items: center;
      margin: 20px 0;
    }

    .social-button {
      width: 56px;
      height: 56px;
      border-radius: 16px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 22px;
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .social-button:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }

    .social-button.discord {
      background: linear-gradient(135deg, #5865f2 0%, #4752c4 100%);
    }

    .social-button.android {
      background: linear-gradient(135deg, #3ddc84 0%, #2bb96f 100%);
    }

    .profile-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
      display: grid;
      gap: 3rem;
    }

    .profile-header {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 2.5rem;
      text-align: center;
      box-shadow: var(--shadow-soft);
    }

    .profile-avatar-large {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 4px solid var(--primary-orange);
      margin: 0 auto 1.5rem;
      object-fit: cover;
    }

    .profile-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .stat-card {
      background: rgba(255, 140, 66, 0.1);
      border: 1px solid rgba(255, 140, 66, 0.2);
      border-radius: 16px;
      padding: 1.5rem;
      text-align: center;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary-orange);
      margin-bottom: 0.5rem;
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .achievements-section {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 2.5rem;
      box-shadow: var(--shadow-soft);
    }

    .section-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: var(--text-primary);
      text-align: center;
    }

    .achievements-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1.5rem;
    }

    .achievement-card {
      background: linear-gradient(135deg, #fdf6f0 0%, #fff8f3 100%);
      border: 2px solid #f0e6d6;
      border-radius: 20px;
      padding: 2rem 1rem;
      text-align: center;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      cursor: pointer;
      overflow: hidden;
    }

    .achievement-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }

    .achievement-card.unlocked {
      background: linear-gradient(135deg, #e6f9ec 0%, #f0fdf4 100%);
      border-color: #86efac;
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(34, 197, 94, 0.2);
    }

    .achievement-card.unlocked:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(34, 197, 94, 0.25);
    }

    .achievement-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: #94a3b8;
      transition: all 0.3s ease;
    }

    .achievement-card.unlocked .achievement-icon {
      color: #22c55e;
      animation: achievementPulse 2s infinite;
    }

    @keyframes achievementPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .achievement-name {
      font-size: 1rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 0.5rem;
    }

    .achievement-desc {
      font-size: 0.8rem;
      color: var(--text-secondary);
      opacity: 0.8;
    }

    .achievement-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-orange), var(--primary-orange-dark));
      border-radius: 0 0 20px 20px;
      transition: width 0.5s ease;
    }

    .achievement-card.unlocked .achievement-progress {
      width: 100%;
    }

    .achievement-card:not(.unlocked) .achievement-progress {
      width: 0%;
    }

    .achievement-card.unlocked::after {
      content: 'âœ”';
      position: absolute;
      top: 8px;
      right: 8px;
      font-size: 1rem;
      color: #2ecc71;
      background: #ffffff;
      border: 2px solid #2ecc71;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
    }

    .shop-section {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 2.5rem;
      box-shadow: var(--shadow-soft);
    }

    .shop-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .shop-item {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 20px;
      padding: 2rem;
      text-align: center;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .shop-item:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .shop-item-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 1.5rem;
      background: linear-gradient(135deg, var(--primary-orange), var(--primary-orange-dark));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
    }

    .shop-item-name {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--text-primary);
    }

    .shop-item-desc {
      font-size: 0.9rem;
      color: var(--text-secondary);
      margin-bottom: 1.5rem;
      line-height: 1.5;
    }

    .shop-item-price {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--primary-orange);
      margin-bottom: 1rem;
    }

    .buy-btn {
      background: linear-gradient(135deg, var(--primary-orange), var(--primary-orange-dark));
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
    }

    .buy-btn:hover {
      background: linear-gradient(135deg, var(--primary-orange-dark), #e55a11);
      transform: translateY(-2px);
    }

    .coming-soon-btn {
      background: linear-gradient(135deg, #94a3b8, #64748b);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      font-weight: 600;
      cursor: not-allowed;
      width: 100%;
      opacity: 0.7;
    }

    .coming-soon-item {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      border: 2px dashed #cbd5e1;
      opacity: 0.8;
    }

    .coming-soon-item:hover {
      transform: none;
      box-shadow: none;
    }

    .coming-soon-icon {
      background: linear-gradient(135deg, #cbd5e1, #94a3b8);
      animation: comingSoonPulse 2s infinite;
    }

    @keyframes comingSoonPulse {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }

    @media (max-width: 768px) {
      .profile-container {
        padding: 1rem;
        gap: 2rem;
      }

      .profile-stats {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }

      .achievements-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
      }

      .shop-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <nav id="main-navbar" class="navbar">
<div class="navbar-left">
  <a class="navbar-logo">
    <div class="logo-container" style="display: flex; align-items: center; gap: 8px;">
      <i class="fas fa-database logo-icon"></i>
      <span class="logo-text">DataLibrary</span>
    </div>
  </a>
</div>

    <div class="navbar-center">
      <button class="nav-btn active" data-section="first-section">
        <i class="fas fa-home"></i>
        <span>HOME</span>
      </button>
      <button class="nav-btn" data-section="second-section">
        <i class="fas fa-users"></i>
        <span>TEAM</span>
      </button>
      <button class="nav-btn" data-section="timeline-section">
        <i class="fas fa-clock"></i>
        <span>TIMELINE</span>
      </button>
      <button class="nav-btn" data-section="third-section">
        <i class="fas fa-solid fa-robot"></i>
        <span>BOT</span>
      </button>
      <button class="nav-btn" data-section="fourth-section">
        <i class="fas fa-user"></i>
        <span>PROFILE</span>
      </button>
      <button class="nav-btn" data-section="sixth-section">
        <i class="fas fa-info-circle"></i>
        <span>ABOUT</span>
      </button>
    </div>

    <div class="navbar-right">
      <div id="auth-container">
        <button id="sign-in-btn" class="auth-btn sign-in">
          <i class="fas fa-sign-in-alt"></i>
        </button>
        <div id="user-profile" class="user-profile hidden">
          <img id="user-avatar" class="user-avatar" src="" alt="User Avatar" style="cursor: pointer;" onclick="toggleTCGSettingsModal2()">
          <div class="auth-status-indicator"></div>
          <button id="sign-out-btn" class="auth-btn sign-out">
            <i class="fas fa-sign-out-alt"></i>
          </button>
        </div>
      </div>
      <i class="fas fa-cog settings-icon" onclick="toggleTCGSettingsModal()"></i>
    </div>
  </nav>

<div id="first-section" class="section">
  <div class="hero-section">
    <h1 class="main-title">The Websites Of DataLibrary</h1>
    <p class="hero-subtitle">Discover amazing projects and tools built by our team</p>
  </div>
    <div class="search-bar">
    <div class="search-container">
      <i class="fas fa-search search-icon"></i>
      <input type="text" id="search" placeholder="Search amazing projects..." />
    </div>
    </div>
<div class="filter-container">
      <select id="keywordFilter">
    <option value="">All Keywords</option>
    <option value="Information">Information</option>
    <option value="Checklist">Checklist</option>
  </select>
    <button id="filterBtn">
      <i class="fas fa-filter"></i>
      <span>Filter</span>
    </button>
    </div>
  <div class="home-container">
  <main id="app"></main>
  </div>
</div>

<script>
const games = [
  {
    name: "Random Movie Generator",
    url: "html/index-movie.html",
    description: "Get random movie recommendations from 10,000+ films!",
    image: "https://images.unsplash.com/photo-1489599810766-87ab6c43c1b5?w=400&h=300&fit=crop&crop=center",
    keywords: ["Information"],
    progress: 100,
  },
  {
    name: "TCG Pack Simulator",
    url: "html/index-cardgame.html", 
    description: "Open virtual card packs and collect rare cards!",
    image: "https://images.unsplash.com/photo-1580387046865-b2f5cbbfaf5d?w=400&h=300&fit=crop&crop=center",
    keywords: ["Information"],
    progress: 100,
  },
  {
    name: "Random Number Generator",
    url: "html/index-randomnumber.html",
    description: "Generate random numbers for any purpose!",
    image: "https://images.unsplash.com/photo-1518186285589-2f7649de83e0?w=400&h=300&fit=crop&crop=center",
    keywords: ["Information"], 
    progress: 100,
  },
  {
    name: "Random Password Generator",
    url: "html/index-passwordgenerator.html",
    description: "Create secure passwords with customizable options!",
    image: "https://images.unsplash.com/photo-1614064641938-3bbee52942c7?w=400&h=300&fit=crop&crop=center",
    keywords: ["Information"],
    progress: 100,
  },
  {
    name: "Gaming Checklist",
    url: "html/index-checklist.html",
    description: "Track your gaming achievements and goals!",
    image: "https://images.unsplash.com/photo-1493711662062-fa541adb3fc8?w=400&h=300&fit=crop&crop=center",
    keywords: ["Checklist"],
    progress: 100,
  },
  {
    name: "Counter-Strike 2",
    url: "html/index-cs2.html",
    description: "Discover the maps and all the weapon information!",
    image: "https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/730/capsule_616x353.jpg?t=1749053861",
    keywords: ["Information"],
    progress: 100,
  },
];
</script>

<div id="second-section" class="section" style="display:none;">

<div class="team-wrapper">

  <div class="hero-section">
    <h1 class="main-title">Meet The Developers</h1>
    <p class="hero-subtitle">The talented developers behind DataLibrary</p>
  </div>
  <div class="team-section">
    <div class="team-member" onclick="openTeamModal('lxzy')">
      <img src="https://cdn.discordapp.com/avatars/1233363061440512011/32ef183dcb2201179f442c77e8b8b7d8.webp?size=80" alt="Dev 4" />
      <h3>Lxzy</h3>
      <p>Full Stack Dev</p>
      <div class="click-hint">Click for more info</div>
    </div>
    <div class="team-member" onclick="openTeamModal('cooper')">
      <img src="https://cdn.discordapp.com/avatars/1262336556966871101/702dde19270f61624786d9b89715bc48.webp?size=80" alt="Dev 1" />
      <h3>Cooper</h3>
      <p>Full Stack Dev</p>
      <div class="click-hint">Click for more info</div>
    </div>
    <div class="team-member" onclick="openTeamModal('bravo')">
      <img src="https://cdn.discordapp.com/avatars/767630233926762526/db41dcad4626d6448477887e4b7f39d1.webp?size=80" alt="Dev 4" />
      <h3>Bravo</h3>
      <p>Full Stack Dev</p>
      <div class="click-hint">Click for more info</div>
    </div>
    <div class="team-member" onclick="openTeamModal('psycho')">
      <img src="https://cdn.discordapp.com/avatars/1187151195001851924/a42a64eb3a012f69ba47f606edb83d9d.webp?size=80" alt="Dev 5" />
      <h3>Psycho</h3>
      <p>Full Stack Dev</p>
      <div class="click-hint">Click for more info</div>
    </div>

    <div class="team-member" onclick="openTeamModal('ampired')">
      <img src="https://cdn.discordapp.com/avatars/954342432416358420/8669e174f4e7595868723679806ad5e4.webp?size=80" alt="Dev 2" />
      <h3>Ampired</h3>
      <p>Frontend Dev</p>
      <div class="click-hint">Click for more info</div>
    </div>
    <div class="team-member" onclick="openTeamModal('cpu')">
      <img src="https://cdn.discordapp.com/avatars/1173038204140650588/e9f3e7b938493b28477962783c3c6f0a.webp?size=80" alt="Dev 4" />
      <h3>Cpu</h3>
      <p>Frontend Dev</p>
      <div class="click-hint">Click for more info</div>
    </div>
    <div class="team-member" onclick="openTeamModal('pepper')">
      <img src="https://cdn.discordapp.com/avatars/779231982470168597/40da386e0ad70596edfc3c14cc0dcc8a.webp?size=80" alt="Dev 3" />
      <h3>Pepper</h3>
      <p>Frontend Dev</p>
      <div class="click-hint">Click for more info</div>
    </div>
    <div class="team-member" onclick="openTeamModal('sugar')">
      <img src="https://cdn.discordapp.com/avatars/1383395562333929482/bba4a5cc613f32736a89b9902cc408bd.webp?size=80" alt="Dev 4" />
      <h3>Sugar</h3>
      <p>Frontend Dev</p>
      <div class="click-hint">Click for more info</div>
    </div>
  </div>

  <div class="hero-section">
    <h1 class="main-title">Meet The Moderators</h1>
    <p class="hero-subtitle">The talented moderators behind the Discord server</p>
  </div>
  <div class="team-section">
    <div class="team-member">
      <img src="https://cdn.discordapp.com/avatars/1233442943902158901/a7b13fafaa516cbd15ad0c7d12ae10b0.webp?size=80" alt="Mod 1" />
      <h3>Eliahaloun</h3>
      <p>Discord Moderator</p>
    </div>
    <div class="team-member">
      <img src="https://cdn.discordapp.com/avatars/801155377404051536/e8edc9a0b953246f7247f75d70a1e4ca.webp?size=80" alt="Mod 2" />
      <h3>Mastariox</h3>
      <p>Discord Moderator</p>
    </div>
    <div class="team-member">
      <img src="https://cdn.discordapp.com/avatars/206091221440004096/beec7f2c2ea3d9a55b62239bb63aaa5f.webp?size=80" alt="Mod 3" />
      <h3>Swlwwchase</h3>
      <p>Discord Moderator</p>
    </div>
  </div>

  <div class="hero-section">
    <h1 class="main-title">Meet The Helpers</h1>
    <p class="hero-subtitle">The talented helpers behind the information</p>
  </div>
  <div class="team-section">
    <div class="team-member">
      <img src="https://cdn.discordapp.com/avatars/1141527398186233966/3de68138a3c265b2ae56f174c1d57683.webp?size=80" alt="Helper 1" />
      <h3>RoadTo10og</h3>
      <p>Info Helper</p>
    </div>
    <div class="team-member">
      <img src="https://i.pinimg.com/236x/51/85/89/5185890748bea59f5ff6d3b7e8d713ff.jpg" alt="Helper 1" />
      <h3>Harry</h3>
      <p>Info Helper</p>
    </div>
    <div class="team-member">
      <img src="https://cdn.discordapp.com/avatars/884312741618262016/3017a3e03e45df97d24d4974b0ce6939.webp?size=80" alt="Helper 3" />
      <h3>Zeke</h3>
      <p>Info Helper</p>
    </div>
  </div>

  <div class="hero-section">
    <h1 class="main-title">Meet Our Sponsors</h1>
    <p class="hero-subtitle">The awesome sponsors of DataLibrary</p>
  </div>
  <div class="team-section">
    <div class="team-member">
      <img src="https://cdn.discordapp.com/avatars/1256777142910320784/a_a9b485e6b05c9003ddc0e534aeee5b27.webp?size=80" alt="Sponsor 1" />
      <h3>QBayub</h3>
      <p>Web Sponsor</p>
    </div>
  </div>

</div>

  <div class="team-contact">
    <h2>Contact Us</h2>
    <p>Got questions, feedback, or just want to connect with us?</p>
    <p>Click the button below to reach us directly through our Discord server.</p>
    <a href="https://discord.gg/t5BGDzzSXg" target="_blank" class="discord-button">Join Our Discord</a>
  </div>
</div>

<div id="timeline-section" class="section" style="display:none;">
  <section class="timeline-section">
    <div class="hero-section">
      <h1 class="main-title">Our Journey</h1>
      <p class="hero-subtitle">Milestones that shaped DataLibrary's evolution</p>
    </div>

    <div class="timeline-container">
      <div class="timeline-track">
        <div class="timeline-progress">
          <div class="timeline-progress-fill"></div>
        </div>
        
        <div class="timeline-items">
          <div class="timeline-item completed">
            <div class="timeline-icon">
              <i class="fas fa-rocket"></i>
            </div>
            <div class="timeline-content">
              <div class="timeline-date">7-6-2025</div>
              <h3 class="timeline-title-text">DataLibrary Release</h3>
              <p class="timeline-description">The official launch of DataLibrary.</p>
            </div>
          </div>

          <div class="timeline-item completed">
            <div class="timeline-icon">
              <i class="fas fa-globe"></i>
            </div>
            <div class="timeline-content">
              <div class="timeline-date">11-6-2025</div>
              <h3 class="timeline-title-text">First Website Made</h3>
              <p class="timeline-description">Development and deployment of our project.</p>
            </div>
          </div>

          <div class="timeline-item completed">
            <div class="timeline-icon">
              <i class="fas fa-users"></i>
            </div>
            <div class="timeline-content">
              <div class="timeline-date">16-6-2025</div>
              <h3 class="timeline-title-text">DataLibrary Team</h3>
              <p class="timeline-description">Official formation of the DataLibrary development team.</p>
            </div>
          </div>

          <div class="timeline-item center-milestone">
            <div class="timeline-icon">
              <i class="fas fa-database"></i>
            </div>
            <div class="timeline-content">
              <div class="timeline-date">Present</div>
              <h3 class="timeline-title-text">DataLibrary Today</h3>
              <p class="timeline-description">Currently developing..</p>
            </div>
          </div>

          <div class="timeline-item upcoming">
            <div class="timeline-icon">
              <i class="fas fa-handshake"></i>
            </div>
            <div class="timeline-content">
              <div class="timeline-date">?-?-????</div>
              <h3 class="timeline-title-text">Big Partnership</h3>
            </div>
          </div>

          <div class="timeline-item upcoming">
            <div class="timeline-icon">
              <i class="fas fa-star"></i>
            </div>
            <div class="timeline-content">
              <div class="timeline-date">?-?-????</div>
              <h3 class="timeline-title-text">Big Reputation</h3>
            </div>
          </div>
        </div>

        <div class="timeline-footer">
          <div class="timeline-footer-title">The Journey Continues</div>
        </div>
      </div>
    </div>
  </section>
</div>

<div id="third-section" class="section" style="display:none;">
  <div class="hero-section">
    <h1 class="main-title">DataLibrary Discord Bot</h1>
    <p class="hero-subtitle">Enhance your Discord server with powerful features</p>
  </div>

  <div class="bot-container">
    <div class="bot-main">
      <div class="bot-avatar">
        <i class="fas fa-robot"></i>
      </div>
      <h2>DataLibrary Bot</h2>
      <p>A powerful Discord bot with essential server management features</p>
      
      <a href="https://discord.com/oauth2/authorize?client_id=1339214670099382382&permissions=8&integration_type=0&scope=bot" class="invite-button">
        <i class="fab fa-discord"></i>
        <span>Invite Bot</span>
      </a>
    </div>

    <div class="features-list">
      <div class="feature-item">
        <div class="feature-icon">
          <i class="fas fa-ticket-alt"></i>
        </div>
        <div class="feature-text">
          <h3>Ticket System</h3>
          <p>Professional support ticket management</p>
        </div>
      </div>

      <div class="feature-item">
        <div class="feature-icon">
          <i class="fas fa-wave-square"></i>
        </div>
        <div class="feature-text">
          <h3>Welcome Messages</h3>
          <p>Customizable greetings for new members</p>
        </div>
      </div>

      <div class="feature-item">
        <div class="feature-icon">
          <i class="fas fa-smile"></i>
        </div>
        <div class="feature-text">
          <h3>Reaction Roles</h3>
          <p>Self-assignable roles with emoji reactions</p>
        </div>
      </div>

      <div class="feature-item">
        <div class="feature-icon">
          <i class="fas fa-solid fa-book"></i>
        </div>
        <div class="feature-text">
          <h3>Possible Commands</h3>
          <p>-testwelcome</p>
          <p>-ticketcreate</p>
          <p>-reactionrole</p>
          <p>-rules</p>
        </div>
      </div>

      <div class="feature-item">
        <div class="feature-icon">
          <i class="fas fa-solid fa-scale-balanced"></i>
        </div>
        <div class="feature-text">
          <h3>Command Rules</h3>
          <p>You need to put the basic DataLibrary bot role above the "Member" role to make everything work.</p>
          <br>
          <p>If you want to make the ticket system work and be able to see the tickets then give yourself the "Manager" role.</p>
          <br>
          <p>Make a role called "Announcements" and also a role called "Member" to let everything work smoothly.</p>
          <br>
          <p>Do not forget to make a channel called "â”†ðŸ‘‹â”†welcome" if you want the welcome message to work.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="fourth-section" class="section" style="display:none;">
  <div class="hero-section">
    <h1 class="main-title">Profile Dashboard</h1>
    <p class="hero-subtitle">Your personal stats, achievements, and shop</p>
  </div>

  <div class="profile-container">
    <div class="profile-header">
      <img id="profile-avatar-large" class="profile-avatar-large" src="./svg/unknown.png" alt="Profile Avatar">
      <h2 id="profile-user-name">Sign in to view your profile</h2>
      <div class="profile-stats">
        <div class="stat-card">
          <div class="stat-value" id="profile-coins">0</div>
          <div class="stat-label">Coins Earned</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="profile-time">0</div>
          <div class="stat-label">Minutes Online</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="profile-session">0</div>
          <div class="stat-label">Session Time</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="profile-max-coins">0</div>
          <div class="stat-label">Max Coins</div>
        </div>
      </div>
    </div>

    <div class="achievements-section">
      <h3 class="section-title">Achievements</h3>
      <div class="achievements-grid">
        <div id="first-login" class="achievement-card">
          <div class="achievement-icon"><i class="fas fa-door-open"></i></div>
          <div class="achievement-name">Welcome</div>
          <div class="achievement-desc">Sign in for the first time</div>
          <div class="achievement-progress"></div>
        </div>
        <div id="coin-collector" class="achievement-card">
          <div class="achievement-icon"><i class="fas fa-coins"></i></div>
          <div class="achievement-name">Coin Collector</div>
          <div class="achievement-desc">Earn your first 100 coins</div>
          <div class="achievement-progress"></div>
        </div>
        <div id="time-keeper" class="achievement-card">
          <div class="achievement-icon"><i class="fas fa-clock"></i></div>
          <div class="achievement-name">Time Keeper</div>
          <div class="achievement-desc">Spend 5 hours on the site</div>
          <div class="achievement-progress"></div>
        </div>
        <div id="big-spender" class="achievement-card">
          <div class="achievement-icon"><i class="fas fa-shopping-cart"></i></div>
          <div class="achievement-name">Big Spender</div>
          <div class="achievement-desc">Make your first purchase</div>
          <div class="achievement-progress"></div>
        </div>
        <div id="coin-master" class="achievement-card">
          <div class="achievement-icon"><i class="fas fa-crown"></i></div>
          <div class="achievement-name">Coin Master</div>
          <div class="achievement-desc">Accumulate 1000 coins</div>
          <div class="achievement-progress"></div>
        </div>
        <div id="dedicated" class="achievement-card">
          <div class="achievement-icon"><i class="fas fa-medal"></i></div>
          <div class="achievement-name">Dedicated</div>
          <div class="achievement-desc">Spend 24 hours online</div>
          <div class="achievement-progress"></div>
        </div>
        <div id="explorer" class="achievement-card">
          <div class="achievement-icon"><i class="fas fa-compass"></i></div>
          <div class="achievement-name">Explorer</div>
          <div class="achievement-desc">Visit all website sections</div>
          <div class="achievement-progress"></div>
        </div>
        <div id="social" class="achievement-card">
          <div class="achievement-icon"><i class="fab fa-discord"></i></div>
          <div class="achievement-name">Social</div>
          <div class="achievement-desc">Join the Discord server</div>
          <div class="achievement-progress"></div>
        </div>
      </div>
    </div>

    <div class="shop-section">
      <h3 class="section-title">Shop</h3>
      <div id="shop-grid" class="shop-grid"></div>
    </div>
  </div>
</div>

<div id="sixth-section" class="section" style="display:none;">
  <div class="hero-section">
    <h1 class="main-title">About DataLibrary</h1>
    <p class="hero-subtitle">Learn more about our mission and vision</p>
  </div>

  <div class="coming-soon-container">
    <div class="coming-soon-card">
      <div class="coming-soon-icon">
        <i class="fas fa-hammer"></i>
      </div>
      <h2>Coming Soon</h2>
      <p>This section is currently under development. Check back later for exciting updates!</p>
      <div class="progress-bar">
        <div class="progress-fill"></div>
      </div>
      <span class="progress-text">In Development...</span>
    </div>
  </div>
</div>

<div id="team-modal" class="modal hidden">
  <div class="modal-content team-modal-content">
    <span class="close-button" onclick="closeTeamModal()">Ã—</span>
    <div class="team-profile">
      <div class="team-profile-header">
        <img id="modal-avatar" src="" alt="Profile Picture" />
        <div class="team-profile-info">
          <h2 id="modal-name"></h2>
          <p id="modal-role"></p>
        </div>
      </div>
      
      <div class="team-profile-content">
        <div class="profile-section">
          <h3><i class="fas fa-user"></i> Bio</h3>
          <p id="modal-bio">Bio coming soon... (update this yourself!)</p>
        </div>
        
        <div class="profile-section">
          <h3><i class="fas fa-gamepad"></i> Projects & Games</h3>
          <div id="modal-projects" class="project-tags">
            <span class="project-tag">Update your projects here</span>
          </div>
        </div>
        
        <div class="profile-section">
          <h3><i class="fas fa-link"></i> Connect</h3>
          <div id="modal-socials" class="social-links">
            <a href="#" class="social-link discord"><i class="fab fa-discord"></i> Discord</a>
            <a href="#" class="social-link github"><i class="fab fa-github"></i> GitHub</a>
            <a href="#" class="social-link project"><i class="fa-solid fa-code"></i> Project</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="settings-modal-tcg-2" class="modal hidden">
  <div class="modal-content-2">
    <span class="close-button-2" onclick="toggleTCGSettingsModal2()">Ã—</span>
    <h2>Account Info</h2>
    <div class="account-info">
      <p><strong>Name:</strong> <span id="modal-user-name"><span id="user-name" class="user-name">Log in to see your name!</span></span></p>
      <p><strong>Coins:</strong> <span id="coin-icon"></span><span id="coin-value">0</span> <span id="coin-msg" style="font-weight: normal; display: none;">Log in to see your coins!</span></p>
      <p><strong>Time:</strong> <span id="session-minutes">0</span> minutes</p>
    </div>
  </div>
</div>

<div id="settings-modal-tcg" class="modal hidden">
  <div class="modal-content">
    <span class="close-button" onclick="toggleTCGSettingsModal()">Ã—</span>
    <h2>Settings</h2>

    <div class="switch-container">
      <label class="switch">
        <input
          type="checkbox"
          id="darkModeToggleModal"
        />
        <span class="slider"></span>
      </label>
      <span>Dark Mode</span>
    </div>

    <div class="social-button-container">
      <a
        href="https://discord.gg/t5BGDzzSXg"
        target="_blank"
        class="social-button discord"
        ><i class="fab fa-discord"></i
      ></a>
      <a
        href="https://median.co/share/jrkxbe#apk"
        target="_blank"
        class="social-button android"
        ><i class="fab fa-android"></i
      ></a>
    </div>
          <div class="counter-container">
        <h5 class="countertext">Your Visitor Counter:</h5>
        <div id="visitor-count">0</div>
    </div>
  </div>
</div>

<div id="certificate-modal" class="modal hidden">
  <div class="modal-content-2">
    <span id="close-cert-btn" class="close-button-2">Ã—</span>
    <h2>Redeem Certificate</h2>
    <div class="certificate-body">
      <p><strong>Item:</strong> <span id="cert-item-name"></span></p>
      <p><strong>Description:</strong> <span id="cert-item-desc"></span></p>
      <p><strong>Purchased By:</strong> <span id="cert-user-name"></span></p>
      <p><strong>Date:</strong> <span id="cert-date"></span></p>
      <p><strong>Status:</strong> Successfully Redeemed</p>
    </div>
  </div>
</div>

<div id="custom-confirm-modal" class="modal hidden">
  <div class="modal-content-2">
    <h3 id="custom-confirm-message">Are you sure?</h3>
    <div class="confirm-buttons">
      <button id="confirm-yes" class="confirm-btn yes">Yes</button>
      <button id="confirm-no" class="confirm-btn no">No</button>
    </div>
  </div>
</div>

<div id="custom-alert-modal" class="modal hidden">
  <div class="modal-content-2">
    <h3 id="custom-alert-message">Alert message here</h3>
    <div class="alert-buttons">
      <button id="alert-ok-btn" class="alert-btn ok">Okay</button>
    </div>
  </div>
</div>

    <div class="copyright-container">
    <h5>Â© 2025 DataLibrary. This website has been made by the entire DataLibrary team.</h5>
  </div>

  <script type="module">
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js';
  import { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js';

  const firebaseConfig = {
    apiKey: "AIzaSyBAzltCjux1oEtKK6xq6x7g604OqvxYFiM",
    authDomain: "datalibrary-ed02a.firebaseapp.com",
    projectId: "datalibrary-ed02a",
    storageBucket: "datalibrary-ed02a.appspot.com",
    messagingSenderId: "745741633636",
    appId: "1:745741633636:web:585b1e7be48011fb423771"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  const $ = id => document.getElementById(id);
  const signInBtn = $('sign-in-btn'), signOutBtn = $('sign-out-btn'), userProfile = $('user-profile'),
    userAvatar = $('user-avatar'), userName = $('user-name'), coinIcon = $('coin-icon'),
    coinValue = $('coin-value'), coinMsg = $('coin-msg');

  let coinInterval, timeInterval, sessionInterval, currentUser;

  const shopItems = [
    { name: "VIP Role", desc: "VIP role in Discord server", cost: 500, icon: "crown", available: true },
    { name: "Coming Soon", desc: "", icon: "fas fa-question", available: false },
  ];

  const getKey = (uid, type) => `${type}_${uid}`;

  const load = (uid, type) => parseInt(localStorage.getItem(getKey(uid, type)), 10) || 0;
  const save = (uid, type, val) => localStorage.setItem(getKey(uid, type), val);

  function updateDisplay(coins) {
    if (coinValue) coinValue.textContent = coins;
    if (currentUser) unlockTrophies(load(currentUser.uid, 'maxCoins'), load(currentUser.uid, 'timeMinutes'));
    updateProfileDisplay();
  }

  function updateProfileDisplay() {
    if (!currentUser) return;
    
    const uid = currentUser.uid;
    const coins = load(uid, 'coins');
    const timeMinutes = load(uid, 'timeMinutes');
    const sessionMinutes = load(uid, 'sessionMinutes');
    const maxCoins = load(uid, 'maxCoins');

    const profileCoins = $('profile-coins');
    const profileTime = $('profile-time');
    const profileSession = $('profile-session');
    const profileMaxCoins = $('profile-max-coins');
    const profileUserName = $('profile-user-name');
    const profileAvatar = $('profile-avatar-large');

    if (profileCoins) profileCoins.textContent = coins;
    if (profileTime) profileTime.textContent = timeMinutes;
    if (profileSession) profileSession.textContent = sessionMinutes;
    if (profileMaxCoins) profileMaxCoins.textContent = maxCoins;
    if (profileUserName) profileUserName.textContent = currentUser.displayName || currentUser.email.split('@')[0];
    if (profileAvatar) profileAvatar.src = currentUser.photoURL || '';
  }

  function startCoinTimer(user) {
    clearInterval(coinInterval);
    let coins = load(user.uid, 'coins');
    updateDisplay(coins);
    coinInterval = setInterval(() => {
      coins++;
      save(user.uid, 'coins', coins);
      if(coins > load(user.uid, 'maxCoins')) save(user.uid, 'maxCoins', coins);
      updateDisplay(coins);
    }, 60000);
  }

  function startTimeTracker(user) {
    clearInterval(timeInterval);
    const uid = user.uid;
    let minutes = load(uid, 'timeMinutes');
    const lastKey = getKey(uid, 'lastLogin_time');
    const now = Date.now();
    const last = parseInt(localStorage.getItem(lastKey), 10);
    if (!isNaN(last)) minutes += Math.floor((now - last) / 60000);
    save(uid, 'timeMinutes', minutes);
    localStorage.setItem(lastKey, now);
    unlockTrophies(load(uid, 'maxCoins'), minutes);
    timeInterval = setInterval(() => {
      minutes++;
      save(uid, 'timeMinutes', minutes);
      localStorage.setItem(lastKey, Date.now());
      unlockTrophies(load(uid, 'maxCoins'), minutes);
      updateProfileDisplay();
    }, 60000);
  }

  function updateSessionDisplay(minutes) {
    const el = document.getElementById('session-minutes');
    if (el) el.textContent = minutes;
    updateProfileDisplay();
  }

  function startSessionTimer(user) {
    clearInterval(sessionInterval);
    const uid = user.uid;
    let minutes = load(uid, 'sessionMinutes');
    updateSessionDisplay(minutes);
    sessionInterval = setInterval(() => {
      minutes++;
      save(uid, 'sessionMinutes', minutes);
      updateSessionDisplay(minutes);
    }, 60000);
  }

  function createShopItems() {
    const shopGrid = $('shop-grid');
    if (!shopGrid) return;

    shopGrid.innerHTML = shopItems.map((item, index) => {
      if (item.available) {
        return `
          <div class="shop-item">
            <div class="shop-item-icon">
              <i class="fas fa-${item.icon}"></i>
            </div>
            <div class="shop-item-name">${item.name}</div>
            <div class="shop-item-desc">${item.desc}</div>
            <div class="shop-item-price">
              <i class="fas fa-coins"></i>
              ${item.cost} coins
            </div>
            <button class="buy-btn" onclick="buyItem(${index})">Buy Now</button>
          </div>
        `;
      } else {
        return `
          <div class="shop-item coming-soon-item">
            <div class="shop-item-icon coming-soon-icon">
              <i class="fas fa-${item.icon}"></i>
            </div>
            <div class="shop-item-name">${item.name}</div>
            <div class="shop-item-desc">${item.desc}</div>
            <button class="coming-soon-btn">Coming Soon</button>
          </div>
        `;
      }
    }).join('');
  }

  signInBtn.onclick = () => signInWithPopup(auth, provider).catch(console.error);
  signOutBtn.onclick = () => {
    [coinInterval, timeInterval, sessionInterval].forEach(i => clearInterval(i));
    currentUser = null;
    signOut(auth).catch(console.error);
  };

  function toggleCertificateModal(show) {
    const modal = document.getElementById('certificate-modal');
    if (modal) {
      modal.classList.toggle('hidden', !show);
    }
  }

  function confirmCloseCertificate() {
    showConfirmModal("Are you sure you want to close this certificate? This cannot be reversed.")
      .then(confirmed => {
        if (confirmed) toggleCertificateModal(false);
      });
  }

  document.getElementById('close-cert-btn').addEventListener('click', confirmCloseCertificate);

  function showConfirmModal(message) {
    return new Promise(resolve => {
      const modal = document.getElementById("custom-confirm-modal");
      const messageEl = document.getElementById("custom-confirm-message");
      const yesBtn = document.getElementById("confirm-yes");
      const noBtn = document.getElementById("confirm-no");

      messageEl.textContent = message;
      modal.classList.remove("hidden");

      const cleanup = () => {
        modal.classList.add("hidden");
        yesBtn.removeEventListener("click", onYes);
        noBtn.removeEventListener("click", onNo);
      };

      const onYes = () => {
        cleanup();
        resolve(true);
      };

      const onNo = () => {
        cleanup();
        resolve(false);
      };

      yesBtn.addEventListener("click", onYes);
      noBtn.addEventListener("click", onNo);
    });
  }

  function showAlertModal(message) {
    const modal = document.getElementById("custom-alert-modal");
    const messageEl = document.getElementById("custom-alert-message");
    const okBtn = document.getElementById("alert-ok-btn");

    messageEl.textContent = message;
    modal.classList.remove("hidden");

    const cleanup = () => {
      modal.classList.add("hidden");
      okBtn.removeEventListener("click", cleanup);
    };

    okBtn.addEventListener("click", cleanup);
  }

  onAuthStateChanged(auth, user => {
    if (user) {
      currentUser = user;
      signInBtn.classList.add('hidden');
      userProfile.classList.remove('hidden');
      userAvatar.src = user.photoURL || '';
      userName.textContent = user.displayName || user.email.split('@')[0];
      coinIcon.style.display = 'inline-block';
      coinValue.style.display = 'inline-block';
      coinMsg.style.display = 'none';
      startCoinTimer(user);
      startTimeTracker(user);
      startSessionTimer(user);
      updateProfileDisplay();
    } else {
      currentUser = null;
      signInBtn.classList.remove('hidden');
      userProfile.classList.add('hidden');
      coinIcon.style.display = 'none';
      coinValue.style.display = 'none';
      coinMsg.style.display = 'inline-block';
      updateDisplay(0);
      [coinInterval, timeInterval, sessionInterval].forEach(i => clearInterval(i));
      
      const profileUserName = $('profile-user-name');
      if (profileUserName) profileUserName.textContent = 'Sign in to view your profile';
    }
  });

  window.buyItem = function(index) {
    if (!currentUser) {
      showAlertModal("Please log in to buy items.");
      return;
    }

    const item = shopItems[index];
    if (!item.available) {
      showAlertModal("This item is not available yet.");
      return;
    }

    const uid = currentUser.uid;
    let coins = load(uid, 'coins');
    let maxCoins = load(uid, 'maxCoins');

    if (coins < item.cost) {
      showAlertModal("You don't have enough coins.");
      return;
    }

    showConfirmModal(`Are you sure you want to buy "${item.name}" for ${item.cost} coins? This cannot be reversed.`)
      .then(confirmed => {
        if (!confirmed) return;

        coins -= item.cost;
        save(uid, 'coins', coins);

        let purchaseCount = load(uid, 'purchases') || 0;
        purchaseCount++;
        save(uid, 'purchases', purchaseCount);

        if (coins > maxCoins) {
          maxCoins = coins;
          save(uid, 'maxCoins', maxCoins);
        }

        updateDisplay(coins);

        document.getElementById("cert-item-name").textContent = item.name;
        document.getElementById("cert-item-desc").textContent = item.desc;
        document.getElementById("cert-user-name").textContent =
          currentUser.displayName || currentUser.email.split('@')[0];
        document.getElementById("cert-date").textContent = new Date().toLocaleString();

        toggleCertificateModal(true);
      });
  };

function unlockTrophies(maxCoins, sessionMinutes) {
  const unlockIf = (id, condition) => {
    const el = document.getElementById(id);
    if (el) el.classList.toggle('unlocked', condition);
  };

  if (currentUser) {
    unlockIf('first-login', true);
  }
  
  unlockIf('coin-collector', maxCoins >= 100);
  unlockIf('time-keeper', sessionMinutes >= 300);
  unlockIf('coin-master', maxCoins >= 1000);
  unlockIf('dedicated', sessionMinutes >= 1440);
  
  const purchaseCount = load(currentUser?.uid || '', 'purchases') || 0;
  unlockIf('big-spender', purchaseCount > 0);
  
  const sectionsVisited = load(currentUser?.uid || '', 'sectionsVisited') || 0;
  unlockIf('explorer', sectionsVisited >= 6);
  
  const discordJoined = load(currentUser?.uid || '', 'discordJoined') || false;
  unlockIf('social', discordJoined);
}

  window.markSectionVisited = function(section) {
    if (!currentUser) return;
    const uid = currentUser.uid;
    let visited = load(uid, 'sectionsVisited') || 0;
    if (visited < 6) {
      visited++;
      save(uid, 'sectionsVisited', visited);
      unlockTrophies(load(uid, 'maxCoins'), load(uid, 'timeMinutes'));
    }
  };

  window.markDiscordJoined = function() {
    if (!currentUser) return;
    const uid = currentUser.uid;
    save(uid, 'discordJoined', true);
    unlockTrophies(load(uid, 'maxCoins'), load(uid, 'timeMinutes'));
  };

  createShopItems();
  </script>

  <script src="js/script-main.js"></script>
  <script src="html/timeline-main.html"></script>
  <link rel="stylesheet" href="css/style-chatbot.css" />
  <script src="js/script-chatbot.js"></script>
  
</body>
</html>